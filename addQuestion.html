<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Add a Question</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--  Adds a question to the questoion bank -->
  </head>
  <body style="background-color: rgb(79, 192, 177)">
    <div style="width: 100%; ">
      <center style="zoom: 250%; font-style:oblique;">
        Add Name: <br />
        <input type="text" id="0" />
        <br />
        Function Name: <br />
        <input type="text" value="function()" id="1" />
        <br />
        Add a Question: <br />
        <input type="text" id="2" />
        <br />
        Topic: <br />
        <input type="text" value="Math, Strings, Loops" id="3" />
        <br />
        Difficulty: <br />
        <input type="text" value="easy, medium, or hard" id="4" />
        <br />
        Answer: <br />
        <textarea id="5" rows="4" cols="30"></textarea>
        <br />
        <input type="submit" value="Submit" onclick="addShit()" />
      </center>
      <!--Make a back button to go back to exam creation-->
    </div>
  </body>
  <script>
    async function addShit() {
      var name = document.getElementById(0);
      var name = name.value;
      console.log(name);
      var functionName = document.getElementById(1);
      var functionName = functionName.value;
      console.log(functionName);
      var question = document.getElementById(2); //unit_test
      var question = question.value;
      console.log(question);
      var topic = document.getElementById(3);
      var topic = topic.value;
      console.log(topic);
      var difficulty = document.getElementById(4);
      var difficulty = difficulty.value;
      console.log(difficulty);
      var unit_test = document.getElementById(5);
      var unit_test = unit_test.value;
      console.log(unit_test);

      let res = await fetch(
        'https://web.njit.edu/~ah472/CS490/beta/back/addQuestion.php',
        {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            //fill in valid fields
            question: question,
            topic: topic,
            name: name,
            function_name: functionName,
            difficulty: difficulty,
            unit_test: unit_test,
          }),
        }
      );
      const json = await res.json();

      console.log(json);
    } // Make this point to itself, and refresh the page after Submission*
  </script>
</html>
