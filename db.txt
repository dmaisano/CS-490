CREATE DATABASE IF NOT EXISTS NJITlogin;
USE NJITlogin;

CREATE TABLE users(
  user_id INT NOT NULL AUTO_INCREMENT,
  username VARCHAR(250) NOT NULL,
  password VARCHAR(250) NOT NULL,
  student BOOLEAN NOT NULL,
  PRIMARY KEY (user_id)
);

CREATE TABLE exam_list(
  list_id INT NOT NULL AUTO_INCREMENT,
  exam_name VARCHAR(50) NOT NULL,
  PRIMARY KEY (list_id)
);

CREATE TABLE questions(
  q_id INT NOT NULL AUTO_INCREMENT,
  name VARCHAR(50) NOT NULL,
  text TEXT NOT NULL,
  topic VARCHAR(50),
  difficulty VARCHAR(10),
  constraints VARCHAR(250),
  PRIMARY KEY (q_id)
);

CREATE TABLE grades(
  grade_id INT unsigned NOT NULL AUTO_INCREMENT,
  grade DOUBLE, 
  user_id INT NOT NULL,
  list_id INT NOT NULL,
  PRIMARY KEY (grade_id),
  FOREIGN KEY (user_id) REFERENCES users(user_id),
  FOREIGN KEY (list_id) REFERENCES exam_list(list_id)
);

CREATE TABLE exam(
  exam_id INT NOT NULL AUTO_INCREMENT,
  list_id INT NOT NULL,
  q_id int NOT NULL,
  PRIMARY KEY (exam_id),
  FOREIGN KEY (list_id) REFERENCES exam_list(list_id),
  FOREIGN KEY (q_id) REFERENCES questions(q_id)
);
